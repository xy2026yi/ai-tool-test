# AI工具管理平台 - 用户手册

## 目录

- [安装说明](#安装说明)
- [快速入门](#快速入门)
- [功能模块](#功能模块)
  - [仪表盘](#仪表盘)
  - [供应商管理](#供应商管理)
  - [MCP模板管理](#mcp模板管理)
  - [配置管理](#配置管理)
  - [模式管理](#模式管理)
  - [供应商切换](#供应商切换)
- [常见问题](#常见问题)
- [故障排查](#故障排查)

## 安装说明

### Windows

1. 下载安装包 `ai-tools-manager_1.0.0_x64.msi`
2. 双击运行安装程序
3. 按照向导完成安装
4. 从开始菜单启动"AI工具管理平台"

### macOS

1. 下载安装包 `ai-tools-manager_1.0.0_x64.dmg`
2. 打开DMG文件
3. 将应用拖拽到Applications文件夹
4. 从启动台或Applications文件夹启动应用

### Linux

#### AppImage方式（推荐）
```bash
# 下载AppImage
chmod +x ai-tools-manager_1.0.0_amd64.AppImage
./ai-tools-manager_1.0.0_amd64.AppImage
```

#### deb包方式（Debian/Ubuntu）
```bash
sudo dpkg -i ai-tools-manager_1.0.0_amd64.deb
# 如遇依赖问题
sudo apt-get install -f
```

## 快速入门

### 首次使用

1. **启动应用** - 双击图标打开AI工具管理平台
2. **添加供应商** - 进入"供应商管理"页面，添加您的Claude或Codex API配置
3. **选择模板** - 在"MCP模板管理"中选择或导入您需要的服务器模板
4. **应用配置** - 在"配置管理"页面预览并应用配置到系统

### 基本工作流程

```
添加供应商 → 选择MCP模板 → 应用配置 → 选择工作模式 → 开始使用
```

## 功能模块

### 仪表盘

仪表盘提供系统概览：

- **供应商状态** - 查看已配置的供应商数量和活跃状态
- **MCP模板** - 显示可用模板总数
- **工作模式** - 当前使用的工作模式
- **快速操作** - 常用功能的快捷入口

### 供应商管理

管理AI工具供应商配置。

#### 添加供应商

1. 点击"添加供应商"按钮
2. 选择供应商类型（Claude或Codex）
3. 填写配置信息：
   - 名称：供应商的显示名称
   - API Key：您的API密钥
   - API Base URL：API服务地址
   - 模型：使用的模型名称
4. 点击"测试连接"验证配置
5. 保存配置

#### 编辑供应商

1. 在供应商列表中点击"编辑"按钮
2. 修改配置信息
3. 重新测试连接
4. 保存更改

#### 设置活跃供应商

- 点击供应商卡片上的"设为活跃"按钮
- 同一类型只能有一个活跃供应商
- 活跃供应商将用于配置文件生成

#### 导入导出

**导出配置：**
1. 点击"导出配置"按钮
2. 选择保存位置
3. 配置将以JSON格式保存

**导入配置：**
1. 点击"导入配置"按钮
2. 选择之前导出的JSON文件
3. 确认导入

### MCP模板管理

管理和编辑MCP服务器配置模板。

#### 内置模板

系统提供15+预定义模板：
- Sequential Thinking - 思维链推理
- Memory - 知识图谱存储
- GitHub - GitHub集成
- Context7 - 上下文文档
- Desktop Commander - 桌面命令
- Playwright - 浏览器自动化
- 等等...

#### 使用模板

1. 浏览模板列表
2. 点击模板卡片查看详情
3. 点击"使用此模板"应用到配置

#### 创建自定义模板

1. 点击"创建模板"按钮
2. 填写模板信息：
   - 名称
   - 描述
   - 分类
   - 格式（JSON或TOML）
3. 在编辑器中编写配置
4. 使用预览功能验证格式
5. 保存模板

#### 编辑模板

1. 点击模板的"编辑"按钮
2. 使用内置编辑器修改配置
3. 实时预览更改
4. 保存或放弃更改

### 配置管理

统一管理Claude和Codex的配置文件。

#### 查看配置

- 选择配置类型（Claude或Codex）
- 查看当前配置文件内容
- 切换文件格式（JSON或TOML）

#### 应用配置

1. 在供应商管理中设置活跃供应商
2. 在MCP模板管理中选择模板
3. 进入配置管理页面
4. 点击"应用配置"
5. 系统自动生成并更新配置文件

#### 备份和恢复

**创建备份：**
1. 点击"备份配置"
2. 输入备份名称
3. 系统自动保存快照

**恢复配置：**
1. 点击"恢复配置"
2. 选择要恢复的备份
3. 确认恢复操作

#### 预览配置

- 点击"预览配置"查看将要应用的内容
- 对比当前配置和新配置的差异
- 确认无误后再应用

### 模式管理

管理和切换工作模式。

#### 可用模式

**Claude优先模式**
- 主要使用Claude供应商
- Codex作为备选
- 适合注重代码质量的场景

**Codex优先模式**
- 主要使用Codex供应商
- Claude作为备选
- 适合需要快速代码生成的场景

**混合模式**
- 同时使用Claude和Codex
- 智能选择最合适的供应商
- 平衡质量和速度

#### 切换模式

1. 进入"模式管理"页面
2. 选择目标模式
3. 查看切换影响说明
4. 点击"应用模式"
5. 系统自动更新配置文件

#### 查看切换历史

- 查看模式切换记录
- 了解每次切换的时间和结果
- 必要时回滚到之前的配置

### 供应商切换

智能供应商切换和监控系统。

#### 健康检查

- 自动检测供应商健康状态
- 显示响应时间
- 记录连续失败次数
- 实时更新状态指标

#### 手动切换

1. 查看供应商健康状态列表
2. 选择目标供应商
3. 点击"切换供应商"
4. 系统执行切换并更新配置

#### 自动故障转移

**启用自动故障转移：**
1. 进入故障转移配置
2. 设置触发条件：
   - 最大失败次数
   - 响应时间阈值
   - 检查间隔
3. 保存配置

**监控面板：**
- 实时查看供应商状态
- 性能趋势图表
- 关键问题警报
- 切换历史记录

## 常见问题

### Q: 如何获取API Key？

**Claude:**
访问 Anthropic 官网注册账号并创建API密钥

**Codex:**
访问 OpenAI 官网注册账号并创建API密钥

### Q: 配置文件保存在哪里？

- **Windows:** `%APPDATA%/.claude` 或 `%USERPROFILE%/.codex`
- **macOS:** `~/.claude` 或 `~/.codex`
- **Linux:** `~/.claude` 或 `~/.codex`

### Q: 如何重置所有配置？

1. 进入配置管理
2. 点击"重置"按钮
3. 确认重置操作
4. 系统恢复默认配置

### Q: 支持多个API密钥吗？

是的，可以为每个供应商类型添加多个配置，并设置其中一个为活跃。

### Q: 如何切换主题？

点击顶部导航栏右侧的主题切换按钮，可在浅色/深色模式间切换。

### Q: 如何查看帮助？

按 F1 键或点击导航栏的帮助按钮打开帮助中心。

## 故障排查

### 连接测试失败

**可能原因：**
- API Key 不正确
- 网络连接问题
- API服务地址错误
- 防火墙阻止

**解决方法：**
1. 检查API Key是否正确
2. 验证网络连接
3. 确认API Base URL格式正确
4. 检查防火墙设置

### 配置应用失败

**可能原因：**
- 没有设置活跃供应商
- 配置文件路径不存在
- 文件权限问题

**解决方法：**
1. 确保已设置活跃供应商
2. 检查配置文件路径
3. 验证文件读写权限

### 模式切换不生效

**可能原因：**
- 配置文件未正确更新
- 需要重启相关服务

**解决方法：**
1. 检查切换进度日志
2. 手动验证配置文件
3. 重启AI工具服务

### 应用启动失败

**可能原因：**
- 端口被占用
- 系统权限不足
- 依赖缺失

**解决方法：**
1. 检查端口占用情况
2. 以管理员权限运行
3. 重新安装应用

### 获取更多帮助

- 查看 [开发文档](development.md)
- 提交 Issue 到项目仓库
- 联系技术支持团队
