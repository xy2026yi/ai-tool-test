# 4、供应商切换模块

根据当前模式从 "1、供应商管理模块" 列出 当前类型的供应商

单Claude模式：仅列出Claude类型的供应商可供勾选

单Codex模式：仅列出Codex类型的供应商可供勾选

Claude联动Codex模式：两个类型的供应商都需要，先选择Claude在选择Codex



- 选择Claude 类型供应商后需要处理 "$HOME" 下 ".claude" 文件中的 "settings.json" 文件，将 供应商的 "ANTHROPIC_BASE_URL"、"ANTHROPIC_AUTH_TOKEN" 放置于 ' "env": { } ' 内，如果供应商的其他可选参数有配置则一并处理，"settings.json" 文件参考如下：

```json
{
  "env": {
    "ANTHROPIC_BASE_URL": "need_conver_url",
    "ANTHROPIC_AUTH_TOKEN": "need_conver_token",
    "API_TIMEOUT_MS": 3000,
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": 1,
    "ANTHROPIC_DEFAULT_OPUS_MODEL": "glm-4.5-air",
    "ANTHROPIC_DEFAULT_SONNET_MODEL": "glm-4.6",
    "ANTHROPIC_DEFAULT_OPUS_MODEL": "glm-4.6"
  }
}
```



- 选择Codex 类型供应商后需要

  - 处理 "$HOME" 下 ".codex" 文件中的 "config.toml" 文件

  ' model_provider = "need_conver_name" ' ' [model_providers.need_conver_name] ' ' name = "need_conver_name" ' 中的 "need_conver_name" 为 供应商名称

  ' base_url = "need_conver_url" ' 中的 "need_conver_url" 为 供应商访问URL

  "config.toml" 文件 中与 供应商相关部分 参考如下：

  ```toml
  model = "gpt-5-codex"
  model_reasoning_effort = "high"
  disable_response_storage = true
  preferred_auth_method = "apikey"
  windows_wsl_setup_acknowledged = true
  model_provider = "need_conver_name"
  
  [model_providers]
  [model_providers.need_conver_name]
  name = "need_conver_name"
  base_url = "need_conver_url"
  wire_api = "responses"
  requires_openai_auth = true
  
  [mcp_servers]
  ```

  - 处理 "$HOME" 下 ".codex" 文件中的 "auth.json" 文件

    ' "OPENAI_API_KEY": "need_conver_token" ' 中的 "need_conver_token" 为 供应商访问密钥

    "auth.json" 参考如下：

    ```json
    {
      "OPENAI_API_KEY": "need_conver_token"
    }
    ```

    